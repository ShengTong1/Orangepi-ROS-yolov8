# YOLOv8使用说明

## 功能介绍

这是一个为华为昇腾开发板设计的 YOLOv8 植物病害检测图形界面，使用 PyQt5 开发。

## 主要功能

1. **图像选择**：点击"选择图像"按钮加载待检测的图片
2. **参数调整**：
   - 置信度阈值：控制检测的严格程度（默认 0.25）
   - IOU 阈值：控制非极大值抑制的阈值（默认 0.45）
3. **开始检测**：运行 YOLOv8 模型进行植物病害检测
4. **保存结果**：将检测结果保存为图片文件

## 使用方法

### 启动界面

```bash
python3 yolov8_gui.py
```

### 操作步骤

1. 点击"选择图像..."按钮
2. 选择一张图片（支持 jpg, png, bmp 格式）
3. 调整检测参数（可选）
4. 点击"开始检测"按钮
5. 等待检测完成
6. 查看右侧的检测结果
7. 点击"保存结果"保存检测后的图片

## 界面布局

- **左侧控制面板**：
  - 图像选择区域
  - 检测参数配置
  - 检测和保存按钮
  - 结果统计信息
  
- **右侧显示区域**：
  - 上部：原始图像预览
  - 下部：检测结果图像（带标注框）

## 检测类别

模型可以检测以下 9 种植物病害：

1. Early Blight (早期疫病)
2. Healthy (健康)
3. Late Blight (晚期疫病)
4. Leaf Miner (潜叶虫)
5. Leaf Mold (叶霉病)
6. Mosaic Virus (花叶病毒)
7. Septoria (斑枯病)
8. Spider Mites (红蜘蛛)
9. Yellow Leaf Curl Virus (黄叶卷曲病毒)

## 文件说明

- `yolov8_gui.py`：图形界面主程序
- `yolov8_detect.py`：命令行版本（原始版本）
- `det_utils.py`：检测工具函数
- `yolov8.om`：昇腾模型文件
- `data.yaml`：类别配置文件
- `yolov8_cam.py`：摄像头实时检测

## 注意事项

1. 确保模型文件 `yolov8.om` 在当前目录
2. 确保配置文件 `data.yaml` 存在
3. 图像会自动调整大小以适应显示区域
4. 首次运行可能需要几秒钟初始化 mxVision 资源

## 远程显示设置

如果通过 SSH 连接开发板，需要设置 X11 转发来显示图形界面：

```bash
# 客户端（你的电脑）
ssh -X username@ip_address

# 或者使用
DISPLAY=:0 python3 yolov8_gui.py
```